<html>
<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <script src="main.js"></script>
</head>

<body>
  <script src="./taskport.min.js"></script>
  <script>
    TaskPort.install(); // can pass a settings object as a parameter, see https://elm.dmy.fr/packages/lobanov/elm-taskport/latest/
    TaskPort.register("readTextFile", (args) => {return window.__TAURI__.fs.readTextFile(args)});
    TaskPort.register("open", (args) => {return window.__TAURI__.dialog.open(args)});
    TaskPort.register("ask", (args) => {return window.__TAURI__.dialog.ask(args)});
    TaskPort.register("askOptions", (args) => {return window.__TAURI__.dialog.ask(args[0],{ title:args[1].title,type:args[1].type })});
    TaskPort.register("confirm", (args) => {return window.__TAURI__.dialog.confirm(args)});
    TaskPort.register("confirmOptions", (args) => {return window.__TAURI__.dialog.message(args[0],{ title:args[1].title,type:args[1].type })});
    TaskPort.register("message", (args) => {return window.__TAURI__.dialog.confirm(args)});
    TaskPort.register("messageOptions", (args) => {return window.__TAURI__.dialog.message(args[0],{ title:args[1].title,type:args[1].type })});
    TaskPort.register("openDlg", (args) => {return window.__TAURI__.dialog.open({defaultPath:args[0].defaultPath,directory:args[0].directory,filters:args[0].filters,multiple:args[0].multiple,recursive:args[0].recursive,title:args[0].title})});
  </script>

  <div id="myapp"></div>
  <script>
  var app = Elm.Main.init({
    node: document.getElementById('myapp')
  });
  </script>
</body>
</html>
